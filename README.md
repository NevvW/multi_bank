# Multi Bank

## Обзор

Проект представляет собой фронтенд-приложение интернет-банка, собраное на базе [Vite](https://vitejs.dev/) и TypeScript. Основные пользовательские сценарии реализованы отдельными страницами (главная панель, логин, регистрация, создание счёта и т.д.), которые обращаются к REST API мультибанка.

## Требования

- Node.js 18 или новее (локальная сборка протестирована на Node.js 18).
- npm 9 или новее.
- Для запуска через Docker требуется Docker и Docker Compose v2.

## Быстрый старт (локально)

1. Установите зависимости:
   ```bash
   npm install
   ```
2. Запустите режим разработки с хот-релоудом:
   ```bash
   npm run dev
   ```
3. По умолчанию Vite поднимет сервер на `http://localhost:5173/`. В терминале будет выведен фактический адрес.

### Сборка и предпросмотр production-версии

```bash
npm run build    # компиляция TypeScript и сборка статических файлов в ./dist
npm run preview  # локальный предпросмотр собранных файлов
```

## Запуск в Docker

Проект содержит полностью готовый Dockerfile и docker-compose.yml для сборки и запуска фронтенда за nginx с поддержкой сертификатов Let's Encrypt.

1. Скопируйте файл примера переменных окружения (если нужно) и задайте домен/почту:
   ```bash
   cp .env.example .env   # если у вас есть шаблон, иначе задайте переменные напрямую
   ```
   Необходимые переменные:
   - `DOMAIN` — доменное имя, на котором будет доступен сайт.
   - `LETSENCRYPT_EMAIL` — контактный email для Let's Encrypt.
   - `RENEW_INTERVAL` (опционально) — период проверки обновления сертификата, по умолчанию `12h`.
   - `LETSENCRYPT_STAGING` (опционально) — установите `1` для тестовой среды Let's Encrypt.
2. Соберите и запустите сервисы:
   ```bash
   docker compose up --build
   ```
3. nginx будет доступен на портах `80` и `443` (пробрасываются наружу). Сертификаты размещаются в volume `letsencrypt`, а проверки — в `certbot-www`.

## Структура проекта

```
.
├── accounts/              # страницы, связанные с управлением счетами (например, создание нового счёта)
│   └── new/
├── docker/                # служебные скрипты и шаблоны для Docker/nginx/certbot
│   ├── certbot/
│   └── nginx/
├── public/                # статические ассеты, копируются в корень сайта (напр. 404.html)
├── src/                   # исходный код Vite/TypeScript
│   ├── pages/             # страницы приложения, организованные по директориям
│   │   └── main/          # главная панель пользователя и логика получения данных с API
│   ├── normalize.css      # базовые CSS-стили
│   └── standartize.css    # общие стили проекта
├── login/, logout/, registration/ # отдельные страницы авторизации/выхода/регистрации
├── index.html             # точка входа Vite-приложения
├── package.json           # зависимости и npm-скрипты
├── tsconfig.json          # конфигурация TypeScript
├── vite.config.ts         # настройки Vite
└── Dockerfile             # multi-stage сборка приложения и nginx runtime
```

## Полезные ссылки

- [Vite документация](https://vitejs.dev/)
- [Let's Encrypt](https://letsencrypt.org/) — сервис, используемый в docker-compose для выпуска сертификатов.
